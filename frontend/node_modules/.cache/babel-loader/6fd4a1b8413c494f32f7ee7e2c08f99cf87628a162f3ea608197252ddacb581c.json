{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\5340\\\\OneDrive\\\\Desktop\\\\vinteddd\\\\frontend\\\\src\\\\components\\\\ListingCard.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Calendar, User, Tag } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListingCard = ({\n  listing\n}) => {\n  // Fonction pour formater le prix\n  const formatPrice = price => {\n    if (!price) return 'Prix non défini';\n    return new Intl.NumberFormat('fr-FR', {\n      style: 'currency',\n      currency: 'XOF',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(price);\n  };\n\n  // Fonction pour formater la date\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR', {\n      day: 'numeric',\n      month: 'short',\n      year: 'numeric'\n    });\n  };\n\n  // Récupérer la première image\n  const getFirstImage = () => {\n    if (listing.photos && listing.photos.length > 0) {\n      // Utiliser image_url si disponible, sinon image\n      return listing.photos[0].image_url || listing.photos[0].image;\n    }\n    // Image par défaut si aucune photo\n    return 'https://via.placeholder.com/300x200?text=Photo+non+disponible';\n  };\n\n  // Tronquer le titre si trop long\n  const truncateTitle = (title, maxLength = 50) => {\n    if (!title) return 'Sans titre';\n    return title.length > maxLength ? title.substring(0, maxLength) + '...' : title;\n  };\n\n  // Tronquer la description si trop longue\n  const truncateDescription = (description, maxLength = 100) => {\n    if (!description) return 'Aucune description';\n    return description.length > maxLength ? description.substring(0, maxLength) + '...' : description;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-48 bg-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: getFirstImage(),\n        alt: listing.title || 'Annonce',\n        className: \"w-full h-full object-cover\",\n        onError: e => {\n          e.target.src = 'https://via.placeholder.com/300x200?text=Photo+non+disponible';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), listing.category && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-full text-xs font-medium\",\n        children: listing.category\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\",\n        children: truncateTitle(listing.title)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-sm mb-3 line-clamp-2\",\n        children: truncateDescription(listing.description)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl font-bold text-green-600 mb-3\",\n        children: formatPrice(listing.price)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 text-xs text-gray-500 mb-4\",\n        children: [listing.seller && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: listing.seller\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), listing.created_at && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Publi\\xE9 le \", formatDate(listing.created_at)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), listing.category && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1\",\n          children: [/*#__PURE__*/_jsxDEV(Tag, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: listing.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/listing/${listing.id}`,\n        className: \"block w-full bg-green-600 text-white text-center py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-200 font-medium\",\n        children: \"Voir les d\\xE9tails\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_c = ListingCard;\nexport default ListingCard;\nvar _c;\n$RefreshReg$(_c, \"ListingCard\");","map":{"version":3,"names":["React","Link","Calendar","User","Tag","jsxDEV","_jsxDEV","ListingCard","listing","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","getFirstImage","photos","length","image_url","image","truncateTitle","title","maxLength","substring","truncateDescription","description","className","children","src","alt","onError","e","target","fileName","_jsxFileName","lineNumber","columnNumber","category","seller","size","created_at","to","id","_c","$RefreshReg$"],"sources":["C:/Users/5340/OneDrive/Desktop/vinteddd/frontend/src/components/ListingCard.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Calendar, User, Tag } from 'lucide-react';\r\n\r\nconst ListingCard = ({ listing }) => {\r\n  // Fonction pour formater le prix\r\n  const formatPrice = (price) => {\r\n    if (!price) return 'Prix non défini';\r\n    return new Intl.NumberFormat('fr-FR', {\r\n      style: 'currency',\r\n      currency: 'XOF',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(price);\r\n  };\r\n\r\n  // Fonction pour formater la date\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('fr-FR', {\r\n      day: 'numeric',\r\n      month: 'short',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  // Récupérer la première image\r\n  const getFirstImage = () => {\r\n    if (listing.photos && listing.photos.length > 0) {\r\n      // Utiliser image_url si disponible, sinon image\r\n      return listing.photos[0].image_url || listing.photos[0].image;\r\n    }\r\n    // Image par défaut si aucune photo\r\n    return 'https://via.placeholder.com/300x200?text=Photo+non+disponible';\r\n  };\r\n\r\n  // Tronquer le titre si trop long\r\n  const truncateTitle = (title, maxLength = 50) => {\r\n    if (!title) return 'Sans titre';\r\n    return title.length > maxLength ? title.substring(0, maxLength) + '...' : title;\r\n  };\r\n\r\n  // Tronquer la description si trop longue\r\n  const truncateDescription = (description, maxLength = 100) => {\r\n    if (!description) return 'Aucune description';\r\n    return description.length > maxLength ? description.substring(0, maxLength) + '...' : description;\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden\">\r\n      {/* Image */}\r\n      <div className=\"relative h-48 bg-gray-200\">\r\n        <img \r\n          src={getFirstImage()} \r\n          alt={listing.title || 'Annonce'} \r\n          className=\"w-full h-full object-cover\"\r\n          onError={(e) => {\r\n            e.target.src = 'https://via.placeholder.com/300x200?text=Photo+non+disponible';\r\n          }}\r\n        />\r\n        {/* Badge catégorie */}\r\n        {listing.category && (\r\n          <div className=\"absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-full text-xs font-medium\">\r\n            {listing.category}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Contenu */}\r\n      <div className=\"p-4\">\r\n        {/* Titre */}\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2 line-clamp-2\">\r\n          {truncateTitle(listing.title)}\r\n        </h3>\r\n\r\n        {/* Description */}\r\n        <p className=\"text-gray-600 text-sm mb-3 line-clamp-2\">\r\n          {truncateDescription(listing.description)}\r\n        </p>\r\n\r\n        {/* Prix */}\r\n        <div className=\"text-xl font-bold text-green-600 mb-3\">\r\n          {formatPrice(listing.price)}\r\n        </div>\r\n\r\n        {/* Informations supplémentaires */}\r\n        <div className=\"space-y-1 text-xs text-gray-500 mb-4\">\r\n          {listing.seller && (\r\n            <div className=\"flex items-center gap-1\">\r\n              <User size={12} />\r\n              <span>{listing.seller}</span>\r\n            </div>\r\n          )}\r\n          {listing.created_at && (\r\n            <div className=\"flex items-center gap-1\">\r\n              <Calendar size={12} />\r\n              <span>Publié le {formatDate(listing.created_at)}</span>\r\n            </div>\r\n          )}\r\n          {listing.category && (\r\n            <div className=\"flex items-center gap-1\">\r\n              <Tag size={12} />\r\n              <span>{listing.category}</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Bouton Voir détails */}\r\n        <Link \r\n          to={`/listing/${listing.id}`} \r\n          className=\"block w-full bg-green-600 text-white text-center py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-200 font-medium\"\r\n        >\r\n          Voir les détails\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListingCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}